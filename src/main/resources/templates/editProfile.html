<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="ru" class="h-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Edit profile</title>
    <link th:href="@{/main.css}" rel="stylesheet"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link rel="shortcut icon" href="https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196">
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/css/font-awesome.min.css}"/>
    <script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
    <link th:href="@{/custom.css}" rel="stylesheet"/>
</head>
<body class="d-flex flex-column h-100">

<header>
    <div th:replace="~{fragments/navigation}"></div>
</header>

<main class="d-flex flex-column flex-grow-1">
    <div class="container-fluid d-flex flex-column flex-grow-1">
        <div class="row d-flex flex-grow-1">
            <div class="col-md-2 col-lg-2 offset-lg-1 d-none d-md-block pr-0">
                <div th:replace="~{fragments/sidebar :: sidebar}"></div>
            </div>
            <div class="col-md-10 col-lg-8 col-xl-7 bg-white border p-0 h-auto">
                <div class="content mx-4 mt-4">
                    <div class="h4 font-weight-normal border-bottom pb-3 mt-3">Edit your profile</div>
                    <div class="edit-form mt-4" style="width: 800px">
                        <form th:action="@{'/allUsers/updateUser'}"
                              class="form"
                              enctype="multipart/form-data"
                              th:method="put" th:object="${user}">

                            <input type="hidden" th:field="*{userId}">
                            <input type="hidden" th:field="*{password}">

                            <div class="form-row">
                                <div class="form-group col-md-4" >
                                    <div class="avatar-card py-3 px-2 text-center rounded border" style="width: 200px">
                                        <div class="user-avatar mb-1">
                                            <img src="https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=96&d=identicon&r=PG"
                                                 class="user-avatar-image"
                                                 th:alt="${'user avatar ' + user.userId}">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group col-md-8">
                                    <div class="form-group">
                                        <label for="profile-name">Display name</label>
                                        <input type="text" th:field="*{name}" id="profile-name"
                                               class="form-control" name="user_name">
                                    </div>
                                    <div class="form-group">
                                        <label for="profile-email">Email</label>
                                        <input type="email" th:field="*{email}" class="form-control"
                                               id="profile-email" name="user_email">
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="form-row" style="margin-left: 266px">
                                <div class="form-group col-md-3">
                                    <button type="submit" name="submit"
                                            class="btn btn-primary form-control">Save Profile
                                    </button>
                                </div>
                                <div class="form-group col-md-2 align-self-center">
                                    <a th:href="${'/users/viewUser/' + user.userId}">cancel</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class="footer">
    <div th:replace="~{fragments/footer :: footer}"></div>
</footer>
</body>
</html>