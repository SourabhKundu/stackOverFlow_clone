<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Question</title>
</head>
<body>
<h2>[[${question.title}]]</h2>
<p>[[${question.description}]]</p>
<button><a th:href="@{'/update/'+ ${question.questionId}}">Edit</a></button>
<form th:action="@{'/question/delete/' + ${question.questionId}}">
    <!--        <input type="hidden" name="username" th:value="${user.email}">-->

    <input type="submit" value="Delete">
</form>
<br>

<section>
    <th:block th:each="answer:${question.answers}">
        <div th:if="${answer}!=null">
              <p th:text="${answer.content}"></p>
            <div>
                <form th:action="@{'/updateAnswer/'+${answer.answerId}}" method="get">
                    <input type="hidden" name="questionId" th:value="${question.questionId}"/>
                    <input type="submit" value="Edit Answer"/>
                </form>
                <form th:action="@{'/deleteAnswer/'+${answer.answerId}}" method="get">
                    <input type="hidden" name="questionId" th:value="${question.questionId}"/>
                    <input type="submit" value="Delete Answer"/>
                </form>

            </div>
        </div>
    </th:block>
</section>

<br>
<div>
    <form th:action="@{/postAnswer/{id}(id=${question.questionId})}" method="post">
        <label th:for="answer-content">Your Answer</label><br>
        <textarea th:id="answer-content" th:name="answerContent" placeholder="Enter your Answer Here" rows="10" cols="20"></textarea><br>
        <button type="submit" >Post Answer</button>
    </form>

</div>
</body>
</html>